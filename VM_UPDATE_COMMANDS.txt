# Quick Update Commands for VM
# Copy these commands one by one

# Step 1: Copy updated files to vm_deployment folder (run on local machine)
Copy-Item -Path "api_server.py" -Destination "vm_deployment\api_server.py" -Force
Copy-Item -Path "NOC-configMaker.html" -Destination "vm_deployment\NOC-configMaker.html" -Force

# Step 2: Upload to VM (run on local machine)
scp vm_deployment/api_server.py <user>@<vm-ip>:~/vm_deployment/
scp vm_deployment/NOC-configMaker.html <user>@<vm-ip>:~/vm_deployment/

# Step 3: Restart service on VM (run on local machine, will prompt for sudo password)
ssh <user>@<vm-ip> "cd ~/vm_deployment && sudo systemctl restart noc-configmaker"

# Alternative if systemctl doesn't work - manual restart:
# ssh <user>@<vm-ip>
# cd ~/vm_deployment
# sudo pkill -f api_server.py
# nohup python3 api_server.py > nohup.out 2>&1 &
# exit

# Step 4: Test the update
# Open browser: http://<vm-ip>:5000/app
