# Quick Update Commands for VM
# Copy these commands one by one

# Step 1: Copy updated files to vm_deployment folder (run on local machine)
Copy-Item -Path "api_server.py" -Destination "vm_deployment\api_server.py" -Force
Copy-Item -Path "NOC-configMaker.html" -Destination "vm_deployment\NOC-configMaker.html" -Force

# Step 2: Upload to VM (run on local machine)
scp vm_deployment/api_server.py whamza@192.168.11.118:/home/whamza/noc-configmaker/
scp vm_deployment/NOC-configMaker.html whamza@192.168.11.118:/home/whamza/noc-configmaker/

# Step 3: Restart service on VM (run on local machine, will prompt for sudo password)
ssh whamza@192.168.11.118 "cd /home/whamza/noc-configmaker && sudo systemctl restart noc-configmaker"

# Alternative if systemctl doesn't work - manual restart:
# ssh whamza@192.168.11.118
# cd /home/whamza/noc-configmaker
# sudo pkill -f api_server.py
# nohup python3 api_server.py > nohup.out 2>&1 &
# exit

# Step 4: Test the update
# Open browser: http://192.168.11.118:5000/app
