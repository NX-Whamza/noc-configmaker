# NOC Config Maker - Environment Template
# Copy this file to `.env` (optional) or set these as system environment variables.
# SMTP/email is no longer used; feedback is stored in the local database and managed via the Admin panel.

# Admin / Auth
ADMIN_EMAILS=netops@team.nxlink.com,whamza@team.nxlink.com
# JWT_SECRET=your-secret-here
# DEFAULT_PASSWORD=CHANGE_ME

# AI Provider (optional)
# OPENAI_API_KEY=your-key-here
# OPENAI_COMPAT_MODEL=gpt-4o-mini
# AZURE_TENANT_ID=your-tenant-id
# AZURE_CLIENT_ID=your-client-id
# AZURE_CLIENT_SECRET=your-client-secret

# RouterOS config defaults (optional)
# NEXTLINK_DNS_PRIMARY=1.1.1.1
# NEXTLINK_DNS_SECONDARY=8.8.8.8
# NEXTLINK_SHARED_KEY=CHANGE_ME_SHARED_KEY
# NEXTLINK_SNMP_CONTACT=netops@team.nxlink.com

# RADIUS defaults (optional; used by /api/infrastructure to autofill the UI)
# NEXTLINK_RADIUS_SECRET=Nl22021234
# NEXTLINK_RADIUS_DHCP_SERVERS=142.147.112.17,142.147.112.18
# NEXTLINK_RADIUS_LOGIN_SERVERS=142.147.112.17,142.147.112.18

# IDO proxy backend
# Default docker-compose setup uses internal `ido-backend` service:
# NETLAUNCH_IDO_BACKEND_URL=http://ido-backend:18081
# Optional: mount netlaunch-tools-backend code into the container
# NETLAUNCH_TOOLS_BACKEND_DIR=./external/netlaunch-tools-backend-main
# NETLAUNCH_TOOLS_BACKEND_PATH=/opt/netlaunch-tools-backend
# NETLAUNCH_IDO_BACKEND_PATH=/opt/netlaunch-tools-backend
# Enforce full IDO module set (ap/bh/ups/rpc/swt/waveconfig/7250); when true, ido-backend exits if modules are missing
# IDO_REQUIRE_FULL_MODULES=true

# SSH fetch defaults (optional; can also be entered in the UI)
# NEXTLINK_SSH_USERNAME=
# NEXTLINK_SSH_PASSWORD=CHANGE_ME

# Field Config Studio / IDO device login defaults (optional)
# For most Cambium/Tachyon/backhaul tools username is fixed to admin in upstream modules.
# Set these so Running Config / Standard Config actions can authenticate correctly.
# AP_STANDARD_PW=CHANGE_ME
# SM_STANDARD_PW=CHANGE_ME
# BH_STANDARD_PW=CHANGE_ME
# SWT_STANDARD_PW=CHANGE_ME
# RPC_STANDARD_PW=CHANGE_ME
# CNMATRIX_STANDARD_PW=CHANGE_ME
# WAVE_AP_PASS=CHANGE_ME

# Netlaunch-compatible MikroTik config templates
# Must include Router/Tower and Router/BNG2 folders.
# Example (Linux): /opt/base_configs
# Example (Windows): C:\\opt\\base_configs
# BASE_CONFIG_PATH=

# API v2 (OMNI/Mushu integration layer)
# /api/v2 endpoints require API keys with scopes.
# Option A (recommended): JSON map key -> scopes
# NOC_API_KEYS_JSON={"your-admin-key":["admin"],"readonly-key":["health.read","actions.read","job.read"]}
# Option B: compact format key:scope1,scope2;key2:scope1
# NOC_API_KEYS=your-admin-key:admin;readonly-key:health.read,actions.read,job.read
# Option C: single admin key
# NOC_API_KEY=your-admin-key
# (Single-key mode is valid if OMNI is the only API client)
#
# Legacy API base for v2 proxy actions (usually self)
# NOC_LEGACY_API_BASE=http://127.0.0.1:5000
# Worker pool for async v2 jobs
# NOC_API_V2_JOB_WORKERS=8
# Enforce request signing (recommended true for OMNI/Mushu)
# NOC_API_V2_REQUIRE_SIGNATURE=true
# Signature headers required per request:
#   X-Key-Id, X-Timestamp (unix), X-Nonce, X-Signature
# Signature string:
#   METHOD + "\n" + PATH + "\n" + TIMESTAMP + "\n" + NONCE + "\n" + sha256(body)
# Option A: JSON map key-id -> secret
# NOC_API_SIGNING_KEYS_JSON={"omni-main":"<long-random-secret>"}
# Option B: compact format key-id:secret;key-id2:secret2
# NOC_API_SIGNING_KEYS=omni-main:<long-random-secret>
# Allowed timestamp drift (seconds)
# NOC_API_V2_SIGNATURE_SKEW_SECONDS=300
# Nonce replay TTL (seconds)
# NOC_API_V2_NONCE_TTL_SECONDS=900
#
# Idempotency for mutating endpoints (recommended true)
# NOC_API_V2_REQUIRE_IDEMPOTENCY=true
# Idempotency-Key cache retention (seconds)
# NOC_API_V2_IDEMPOTENCY_TTL_SECONDS=86400

# Nokia 7250 config-maker credentials
# Served to the UI via /api/nokia7250-defaults at generate-time.
# NOKIA7250_SNMP_COMMUNITY=CHANGE_ME
# NOKIA7250_NLROOT_PW=CHANGE_ME
# NOKIA7250_ADMIN_PW=CHANGE_ME
# NOKIA7250_BGP_AUTH_KEY=CHANGE_ME

# One-shot Aviat log cleanup on backend startup (optional)
# Deletes rows from secure_data/activity_log.db that match:
# activity_type='aviat-upgrade' AND success=0 AND routeros_version=<FW>
# and optional timestamp/user filters below.
# AUTO_PURGE_BAD_AVIAT_LOGS=true
# AUTO_PURGE_BAD_AVIAT_LOGS_FROM=2026-02-02T04:00:00
# AUTO_PURGE_BAD_AVIAT_LOGS_TO=2026-02-02T05:00:00
# AUTO_PURGE_BAD_AVIAT_LOGS_USERNAME=whamza
# AUTO_PURGE_BAD_AVIAT_LOGS_FW=0.0.0

# GitLab dynamic compliance (RFC-09-10-25)
# When set, compliance rules are pulled live from the GitLab netforge/compliance repo
# and cached for GITLAB_COMPLIANCE_TTL seconds (default 15 min).
# Falls back to hardcoded Python constants when unavailable.
# Required:
# GITLAB_COMPLIANCE_TOKEN=<your-personal-access-token>
# GITLAB_COMPLIANCE_PROJECT_ID=75
# Optional:
# GITLAB_COMPLIANCE_HOST=tested.nxlink.com
# Optional when API project-file endpoint is restricted/broken:
# GITLAB_COMPLIANCE_REPO_PATH=netforge/compliance
# GITLAB_COMPLIANCE_REF=main
# GITLAB_COMPLIANCE_TTL=900
# GITLAB_COMPLIANCE_SCRIPT_PATH=TX-ARv2.rsc
# Also accepts full GitLab blob URLs; backend normalizes them to repo path.
